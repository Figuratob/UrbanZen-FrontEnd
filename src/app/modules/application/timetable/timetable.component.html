<div *ngIf="!timetables">
 loading
</div>

<div *ngIf="timetables">

  <ul class="list-group" *ngFor="let timetable of timetables"  >

    <li class="list-group-item d-flex justify-content-between align-items-center">
      <h6>{{timetable.timetableDay.locale(language).format('dddd')| titlecase}}
        , {{timetable.timetableDay.format('DD.MM.YYYY')}}</h6>
    </li>
    <li class="list-group-item d-flex justify-content-between align-items-center"
        *ngFor="let lessonEntry of timetable.lessonEntries">

      <button *ngIf="language == 'en'" mat-raised-button class="text-wrap"
              [disabled]="lessonEntry.lesson.startDate.isBefore(now)"
              (click)="openDialog(lessonEntry, timetable, showBookingModalNotCancelModal)">

        {{lessonEntry.lesson.startDate.format('HH:mm')}}-{{lessonEntry.lesson.endDate.format('HH:mm')}}
        {{lessonEntry.lesson.nameEng}}, {{lessonEntry.lesson.teacher.firstNameEng}}
        <span *ngIf="showCaption" class="badge badge-primary badge-pill">{{lessonEntry.lesson.remainSpaces}}
          /{{lessonEntry.lesson.availableSpaces}}</span>

      </button>

      <button *ngIf="language == 'ru'" mat-raised-button class="text-wrap"
              [disabled]="lessonEntry.lesson.startDate.isBefore(now)"
              (click)="openDialog(lessonEntry, timetable, showBookingModalNotCancelModal)">

        {{lessonEntry.lesson.startDate.format('HH:mm')}}-{{lessonEntry.lesson.endDate.format('HH:mm')}}
        {{lessonEntry.lesson.nameRus}}, {{lessonEntry.lesson.teacher.firstNameRus}}
        <span *ngIf="showCaption" class="badge badge-primary badge-pill">{{lessonEntry.lesson.remainSpaces}}
          /{{lessonEntry.lesson.availableSpaces}}</span>

      </button>

      <button *ngIf="language == 'et'"  mat-raised-button class="text-wrap"
              [disabled]="lessonEntry.lesson.startDate.isBefore(now)"
              (click)="openDialog(lessonEntry, timetable, showBookingModalNotCancelModal)">

        {{lessonEntry.lesson.startDate.format('HH:mm')}}-{{lessonEntry.lesson.endDate.format('HH:mm')}}
        {{lessonEntry.lesson.name}}, {{lessonEntry.lesson.teacher.firstName}}
        <span *ngIf="showCaption" class="badge badge-primary badge-pill">{{lessonEntry.lesson.remainSpaces}}
          /{{lessonEntry.lesson.availableSpaces}}</span>

      </button>
    </li>

  </ul>

</div>
